Feature: Roadmap (Workspace Learning Map)
1. Цель фичи (зачем она вообще существует)

Roadmap — это пользовательская карта темы внутри воркспейса, которая:

отражает, как пользователь понимает структуру темы

помогает ориентироваться в обучении

даёт ощущение прогресса без навязывания задач

Roadmap НЕ:

не является планом задач

не управляет карточками

не требует обязательного заполнения

не навязывает порядок обучения

Ключевая идея: roadmap — это опора для мышления, а не менеджер обучения.

2. Основные сущности и модель данных (MVP)
2.1 Roadmap (на уровне Workspace)
У воркспейса может быть 0 или 1 roadmap

Roadmap опционален

2.2 RoadmapNode (узел roadmap)
Важно:

никакого статуса (done, in progress) в MVP

никакой логики зависимостей

только структура

3. Связь Roadmap ↔ Cards
3.1 Связь
Карточка может быть связана с 0–N пунктами roadmap

Roadmap не содержит карточки внутри себя

Связь слабая (reference), не ownership

3.2 Зачем это нужно

для подсчёта “покрытия темы”

для навигации (“по этому пункту есть карточки”)

для визуального прогресса

4. UX: как пользователь с этим работает
4.1 Доступ к Roadmap

отдельная вкладка в воркспейсе: Roadmap

не открывается автоматически

не мешает основному флоу

4.2 Первый вход (Empty State)

Если roadmap отсутствует:

CTA: “Create roadmap”

варианты:

Paste roadmap (from AI / text)

Start empty

(опционально) Use template

4.3 Формат roadmap (ключевое решение)

Формат: иерархический текст / outline

Поддерживаемые входные форматы:

Markdown (#, ##, -)

Plain text с отступами

Нумерованные списки

Пример:

Frontend
- Browser basics
  - Rendering pipeline
  - Event loop
- JavaScript
  - Closures
  - Async / Promises


Система:

парсит → строит дерево

показывает результат сразу

4.4 Редактирование roadmap

В UI:

inline-редактирование названия узла

drag & drop (менять порядок / вложенность)

collapse / expand веток

delete узлов (с подтверждением)

❗ Удаление узла НЕ удаляет карточки, только связи.

5. Визуализация прогресса (без ручного контроля)
5.1 Индикатор состояния узла (read-only)

У каждого RoadmapNode:

○ — нет связанных карточек

◐ — есть карточки без конспекта / без “осмысления”

● — есть карточки с заполненным конспектом

(как определять “есть конспект” — по текущей логике DayFlow)

5.2 Прогресс воркспейса

агрегируется из узлов roadmap

отображается только в Roadmap view

не влияет на “done” карточек

6. Интеграция с карточками
6.1 При создании / редактировании карточки

поле: “Related roadmap sections”

multiselect (autocomplete)

опционально

6.2 Навигация

клик по roadmap-узлу → показать связанные карточки

из карточки → быстрый переход в roadmap

7. AI / LLM (опционально, но заложить сразу)
7.1 Встроенный prompt (read-only для пользователя)

Пример:

“Generate a learning roadmap for topic X as a hierarchical outline (nested bullet list). Do not include explanations.”

7.2 UX

кнопка: “Generate draft roadmap with AI”

результат вставляется в editor

пользователь редактирует перед сохранением

❗ AI никогда не пишет напрямую в roadmap без подтверждения.

8. Ограничения (очень важно)
Roadmap НЕ ДОЛЖЕН:

создавать карточки автоматически

навязывать порядок обучения

быть обязательным

ломать текущий UX воркспейса

превращаться в Miro / graph / canvas

Если roadmap начинает “руководить” — это баг, не фича.

9. Связь с Toolbox (на будущее)

Toolbox = “чем я пользуюсь”

Roadmap = “что я изучаю”

Card = “что я делаю / осмысливаю”

Эти сущности не пересекаются напрямую, но живут в одном воркспейсе.

10. Future (НЕ в MVP, но важно не сломать)

заметки на уровне roadmap-узла

сравнение roadmap “до / после”

экспорт / шаринг roadmap

авто-предложения “пустых зон” (без навязывания)

персональная статистика понимания темы

11. Критерий успеха фичи

Roadmap успешен, если:

пользователь не обязан им пользоваться

но те, кто пользуются, чувствуют ясность

roadmap помогает думать, а не планировать

он не увеличивает количество кликов для обычного флоу

Финальный вывод

Это очень сильная, тихая фича.
Если сделать её правильно — DayFlow начнёт ощущаться не как “ещё один органайзер”, а как личное пространство для мышления и обучения.